{% extends 'base_layout.html' %}
{% load static from staticfiles %}


{% block content %}

<div class="row">
    <div class="col-3">
    <h2>Options</h2>
        <div class="options">

            <form method="post" enctype="multipart/form-data"> {% csrf_token %}
              <fieldset class="form-group"><br>
                <div class="form-row align-items-center">
                    <div class="col-auto"></div>
                    <div class="col">
                        <label for="file">Select a file: </label>
                    </div>
                    <div class="col-left">
                        <input type="file" class="form-control-file border" name="myFile">
                    </div>
                    <div class="col-auto"></div>
                </div><br><br>
                <div class="form-row align-items-center">
                    <div class="col-auto"></div>
                    <div class="col">
                        <label for="startPos"><h5>Primers start positions: </h5></label>
                    </div>
                    <div class="col-auto"></div>
                </div>
                <div class="form-row align-items-center">
                    <div class="col-auto"></div>
                    <div class="col">
                        <label for="fow_primer">Foward Primer: </label>
                    </div>
                    <div class="col">
                        <input class="form-control" type="text" name="start_prime" value="0" ><br>
                    </div>
                    <div class="col">
                        <label for="rev_primer">Reverse Primer: </label>
                    </div>
                    <div class="col">
                        <input class="form-control" type="text" name="end_prime"  value="length"><br>
                    </div>
                    <div class="col-auto"></div>
                </div>
                <input type="submit" class="btn btn-info btn-block btn-lg" value="Submit">
              </fieldset>
            </form>
        </div>
    </div>

    <div class="col-6">
        <h2>Primer Script</h2>
        <p> Example of an input fasta file (<a href="{% static 'docs/seq.fasta' %}" target="_blank" download><strong> Example file.fasta </strong></a>)</p><br>
        <h4> Primer Script uses <a href="https://pypi.org/project/primer3-py/" target="_blank">Primer3 package</a> to create the forward and reverse primers. </h4>
        <br>

        <div class="form-group">
            <label for="fasta"><h6> Example of input file: </h6></label>
            <textarea class="form-control" id="fasta" rows="10">HSGLTH1 Human theta 1-globin gene
CCACTGCACTCACCGCACCCGGCCAATTTTTGTGTTTTTAGTAGAGACTAAATACCATATAGTGAACACCTAAGACGGGGGGCCTTGGATCCAGGGCGATTCAGAGGGCCCCGGTCGGAGCTGTCGGAGATTGAGCGCGCGCGGTCCCGGGATCTCCGACGAGGCCCTGGACCCCCGGGCGGCGAAGCTGCGGCGCGGCGCCCCCTGGAGGCCGCGGGACCCCTGGCCGGTCCGCGCAGGCGCAGCGGGGTCGCAGGGCGCGGCGGGTTCCAGCGCGGGGATGGCGCTGTCCGCGGAGGACCGGGCGCTGGTGCGCGCCCTGTGGAAGAAGCTGGGCAGCAACGTCGGCGTCTACACGACAGAGGCCCTGGAAAGGTGCGGCAGGCTGGGCGCCCCCGCCCCCAGGGGCCCTCCCTCCCCAAGCCCCCCGGACGCGCCTCACCCACGTTCCTCTCGCAGGACCTTCCTGGCTTTCCCCGCCACGAAGACCTACTTCTCCCACCTGGACCTGAGCCCCGGCTCCTCACAAGTCAGAGCCCACGGCCAGAAGGTGGCGGACGCGCTGAGCCTCGCCGTGGAGCGCCTGGACGACCTACCCCACGCGCTGTCCGCGCTGAGCCACCTGCACGCGTGCCAGCTGCGAGTGGACCCGGCCAGCTTCCAGGTGAGCGGCTGCCGTGCTGGGCCCCTGTCCCCGGGAGGGCCCCGGCGGGGTGGGTGCGGGGGGCGTGCGGGGCGGGTGCAGGCGAGTGAGCCTTGAGCGCTCGCCGCAGCTCCTGGGCCACTGCCTGCTGGTAACCCTCGCCCGGCACTACCCCGGAGACTTCAGCCCCGCGCTGCAGGCGTCGCTGGACAAGTTCCTGAGCCACGTTATCTCGGCGCTGGTTTCCGAGTACCGCTGAACTGTGGGTGGGTGGCCGCGGGATCCCCAGGCGACCTTCCCCGTGTTTGAGTAAAGCCTCTCCCAGGAGCAGCCTTCTTGCCGTGCTCTCTCGAGGTCAGGACGCGAGAGGAAGGCGC</textarea>
        </div>

        <br><br>
        <p> Example of output file: </p>
        <table class="table table table-hover">
           <thead>
              <tr>
                <th>Gene ID</th>
                <th>Up Primer Sequence</th>
                <th>Down Primer Sequence</th>
                <th>Up Primer Length</th>
                <th>Down Primer Length</th>
                <th>Product Length</th>
              </tr>
           <tbody>
              <tr>
                <td>HSGLTH1</td>
                <td>CCACTGCACTCACCGCA</td>
                <td>GCGCCTTCCTCTCGCG</td>
                <td>17</td>
                <td>16</td>
                <td>1020</td>
              </tr>
            </tbody>
        </table>
    </div>

    <div class="col-3">
        {% if url %}
            <h2>Output </h2>
            <br>
            <fieldset class="form-group"><br>
                <div class="form-row align-items-center">
                    <div class="col-auto"></div>
                    <div class="col" >
                        <label for="inputfile">Input File:</label>
                    </div>
                     <div class="col" align="left">
                         <label for="inputfile"><a href="{{ url }}" target="_blank" download> <strong> {{ uploadfile_name }} </strong> </a></label>
                     </div>
                    <div class="col-auto"></div>
                </div><br>
                {% if outfile_name %}
                <div class="form-row align-items-center">
                    <div class="col-auto"></div>
                    <div class="col" >
                        <label for="outputfile">Output File:</label>
                    </div>
                    <div class="col" align="left">
                        <label for="outputfile"><a href="{{ outfile_url }}" target="_blank" download> <strong> {{ outfile_name }} </strong> </a></label>
                    </div>
                    <div class="col-auto"></div>
                </div><br>
                {% endif %}
            </fieldset>
        {% endif %}
    </div>
</div>

{% endblock%}

